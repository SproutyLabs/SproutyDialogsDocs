<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-dialogues/custom-event-nodes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Custom Event Nodes | Sprouty Dialogs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://SproutyLabs.github.io/SproutyDialogsDocs/img/sprouty-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://SproutyLabs.github.io/SproutyDialogsDocs/img/sprouty-social-card.jpg"><meta data-rh="true" property="og:url" content="https://SproutyLabs.github.io/SproutyDialogsDocs/docs/dialogues/custom-event-nodes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Custom Event Nodes | Sprouty Dialogs"><meta data-rh="true" name="description" content="You can make your own event nodes to **extend the functionality of the dialogue system!**"><meta data-rh="true" property="og:description" content="You can make your own event nodes to **extend the functionality of the dialogue system!**"><link data-rh="true" rel="icon" href="/SproutyDialogsDocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://SproutyLabs.github.io/SproutyDialogsDocs/docs/dialogues/custom-event-nodes"><link data-rh="true" rel="alternate" href="https://SproutyLabs.github.io/SproutyDialogsDocs/docs/dialogues/custom-event-nodes" hreflang="en"><link data-rh="true" rel="alternate" href="https://SproutyLabs.github.io/SproutyDialogsDocs/docs/dialogues/custom-event-nodes" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Dialogues & Text","item":"https://SproutyLabs.github.io/SproutyDialogsDocs/docs/category/dialogues--text"},{"@type":"ListItem","position":2,"name":"Custom Event Nodes","item":"https://SproutyLabs.github.io/SproutyDialogsDocs/docs/dialogues/custom-event-nodes"}]}</script><link rel="alternate" type="application/rss+xml" href="/SproutyDialogsDocs/blog/rss.xml" title="Sprouty Dialogs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/SproutyDialogsDocs/blog/atom.xml" title="Sprouty Dialogs Atom Feed"><link rel="stylesheet" href="/SproutyDialogsDocs/assets/css/styles.2023e9e3.css">
<script src="/SproutyDialogsDocs/assets/js/runtime~main.19feb218.js" defer="defer"></script>
<script src="/SproutyDialogsDocs/assets/js/main.f8c1add8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/SproutyDialogsDocs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/SproutyDialogsDocs/"><div class="navbar__logo"><img src="/SproutyDialogsDocs/img/logo.svg" alt="Sprouty Dialogs Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/SproutyDialogsDocs/img/logo.svg" alt="Sprouty Dialogs Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Sprouty Dialogs</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/SproutyDialogsDocs/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/SproutyDialogsDocs/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/SproutyLabs/SproutyDialogs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SproutyDialogsDocs/docs/intro"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/SproutyDialogsDocs/docs/category/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/SproutyDialogsDocs/docs/category/dialogues--text"><span title="Dialogues &amp; Text" class="categoryLinkLabel_W154">Dialogues &amp; Text</span></a><button aria-label="Collapse sidebar category &#x27;Dialogues &amp; Text&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SproutyDialogsDocs/docs/dialogues/using-dialogues"><span title="Using Dialogues" class="linkLabel_WmDU">Using Dialogues</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SproutyDialogsDocs/docs/dialogues/dialog-boxes"><span title="Dialog Boxes" class="linkLabel_WmDU">Dialog Boxes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SproutyDialogsDocs/docs/dialogues/text-editor"><span title="Text Editor" class="linkLabel_WmDU">Text Editor</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/SproutyDialogsDocs/docs/dialogues/event-nodes"><span title="Event Nodes" class="linkLabel_WmDU">Event Nodes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/SproutyDialogsDocs/docs/dialogues/custom-event-nodes"><span title="Custom Event Nodes" class="linkLabel_WmDU">Custom Event Nodes</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/SproutyDialogsDocs/docs/category/characters--portraits"><span title="Characters &amp; Portraits" class="categoryLinkLabel_W154">Characters &amp; Portraits</span></a><button aria-label="Expand sidebar category &#x27;Characters &amp; Portraits&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SproutyDialogsDocs/docs/variables"><span title="Variables" class="linkLabel_WmDU">Variables</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SproutyDialogsDocs/docs/settings"><span title="Settings" class="linkLabel_WmDU">Settings</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/SproutyDialogsDocs/docs/translations"><span title="Translations" class="linkLabel_WmDU">Translations</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/SproutyDialogsDocs/docs/category/class-reference"><span title="Class Reference" class="categoryLinkLabel_W154">Class Reference</span></a><button aria-label="Expand sidebar category &#x27;Class Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/SproutyDialogsDocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/SproutyDialogsDocs/docs/category/dialogues--text"><span>Dialogues &amp; Text</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Custom Event Nodes</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Custom Event Nodes</h1></header>
<p><em>You can make your own event nodes to <strong>extend the functionality of the dialogue system!</strong></em></p>
<p>Event nodes allow you to <strong>trigger specific actions or behaviors during a dialogue</strong>, such as playing animations, changing variables, or interacting with other game systems.</p>
<p>Let&#x27;s explore how to create custom event nodes and use them in your dialogues.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-event-nodes-work">How event nodes work?<a href="#how-event-nodes-work" class="hash-link" aria-label="Direct link to How event nodes work?" title="Direct link to How event nodes work?" translate="no">​</a></h2>
<hr>
<p>Each event node corresponds to a <strong>specific action or behavior</strong> that can be triggered during a dialogue. To process an event node, we have the <a class="" href="/SproutyDialogsDocs/docs/class-reference/utils/event-interpreter">SproutyDialogsEventInterpreter</a> class, which is responsible for <strong>executing the actions</strong> associated with event nodes.</p>
<p>The event interpreter has a <strong>process method</strong> for each event node type, which contains the logic to handle that specific event. To do this, the <a class="" href="/SproutyDialogsDocs/docs/class-reference/nodes/dialog-player">DialogPlayer</a> creates and uses the <strong>event interpreter as its child</strong> to process event nodes as they are reached during the dialogue flow.</p>
<p>So when the dialog player encounters an event node, it calls to the event interpreter to execute the associated action.</p>
<!-- -->
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-custom-event-node">Creating a custom event node<a href="#creating-a-custom-event-node" class="hash-link" aria-label="Direct link to Creating a custom event node" title="Direct link to Creating a custom event node" translate="no">​</a></h2>
<hr>
<p>To create custom event nodes, first you need to create a new graph node that extends from the <a class="" href="/SproutyDialogsDocs/docs/class-reference/core/base-node">SproutyDialogsBaseNode</a> class. This new node will represent your custom event node in the graph editor.</p>
<p>To do this, you need to <strong>create a new scene</strong> with a <a href="https://docs.godotengine.org/en/stable/classes/class_graphnode.html" target="_blank" rel="noopener noreferrer" class="">GraphNode</a> node as root, and then attach a <strong>new script</strong> to it that extends from the <a class="" href="/SproutyDialogsDocs/docs/class-reference/core/base-node">SproutyDialogsBaseNode</a> class.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>The <strong>name of the scene file</strong> must be the <strong>same as the node name</strong> that you will use to identify your custom event node in the dialogue system.</p><p>Also, the name should be in <strong>snake_case format</strong> (lowercase letters with underscores).</p></div></div>
<p>Here&#x27;s an example of a custom event node called <code>Custom Node</code>:</p>
<p><img decoding="async" loading="lazy" alt="Custom Node scene" src="/SproutyDialogsDocs/assets/images/custom_node_scene-114a0fc28d02ab3cdd7c3ee046632a5f.png" width="2866" height="930" class="img_ev3q"></p>
<p>As you can see, the <a class="" href="/SproutyDialogsDocs/docs/class-reference/core/base-node">SproutyDialogsBaseNode</a> has some inspector properties that you can configure to set the <strong>node&#x27;s titlebar color and icon</strong>. Also, you can change the title of the node in the <a href="https://docs.godotengine.org/en/stable/classes/class_graphnode.html" target="_blank" rel="noopener noreferrer" class="">GraphNode</a> properties.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>When you change the <strong>color and icon</strong> of the node in the inspector, the node will <strong>not automatically update</strong> its titlebar. <em>You need to <strong>save the scene and reopen it</strong> to see the changes applied.</em></p></div></div>
<p>This node only has a <strong>text input component</strong> to enter a message that will be printed to the console when the event is processed. You can add more components to the node to customize its functionality as needed.</p>
<p>Also, you can add more <strong>output ports to the node</strong>, if you want to <strong>connect the node to multiple next nodes</strong>, like in a branching event. To do this, your node needs <strong>at least one child node for each output port</strong>, to set slots for the connections. You can enable the ports that you want in the <code>slot</code> section in the inspector.</p>
<p>For more information about ports, see the <a href="https://docs.godotengine.org/en/4.4/classes/class_graphnode.html" target="_blank" rel="noopener noreferrer" class="">GraphNode documentation</a>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>You can add more input ports also, but for Sprouty Dialogs event nodes, <strong>only the first input port is used</strong> to connect the previous node.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-the-event-node-logic">Handling the event node logic<a href="#handling-the-event-node-logic" class="hash-link" aria-label="Direct link to Handling the event node logic" title="Direct link to Handling the event node logic" translate="no">​</a></h3>
<p>Now that you have your node set up, you need to <strong>implement the logic</strong> of your custom event node to <strong>handle the node in the graph editor</strong> in the script attached to it.</p>
<blockquote>
<p><em>The actual processing of the event node will be done in an custom event interpreter, which we will see later.</em></p>
</blockquote>
<p>There are two methods that <strong>you need to override</strong> in your custom event node script:</p>
<ul>
<li class="">
<p><a class="" href="/SproutyDialogsDocs/docs/class-reference/core/base-node#get-data-method">get_data</a>(): This method should return a dictionary containing the data of the event node. You need to include some <strong>required properties</strong> and also can include any properties or values that you want to store to <strong>save the state</strong> of the event node and <strong>process it</strong> later.</p>
</li>
<li class="">
<p><a class="" href="/SproutyDialogsDocs/docs/class-reference/core/base-node#set-data-method">set_data</a>(): This method take a dictionary as a parameter and set or <strong>load the properties</strong> of the event node based on the values in the dictionary.</p>
</li>
</ul>
<p>Here&#x27;s an example implementation of the <code>Custom Node</code> event node script:</p>
<div class="language-gdscript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#cccccc;--prism-background-color:#1c1c1c"><div class="codeBlockTitle_OeMC">custom_node.gd</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gdscript codeBlock_bY9V thin-scrollbar" style="color:#cccccc;background-color:#1c1c1c"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token annotation" style="color:#ffb373">@tool</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7085">extends</span><span class="token plain"> </span><span class="token type" style="color:#42ffc2">SproutyDialogsBaseNode</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token annotation" style="color:#ffb373">@onready</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7085">var</span><span class="token plain"> _text_input</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> </span><span class="token type" style="color:#42ffc2">TextEdit</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> </span><span class="token node-reference" style="color:#63c259">$TextInput</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token annotation" style="color:#ffb373">@onready</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7085">var</span><span class="token plain"> _print_text</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> </span><span class="token type" style="color:#42ffc2">String</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> _text_input</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token plain">text</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7085">func</span><span class="token plain"> </span><span class="token function-definition" style="color:#66e6ff">_ready</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token function" style="color:#57b3ff">super</span><span class="token plain"> </span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"> </span><span class="token comment" style="color:#cccccc80;font-style:italic"># Required to initialize the node</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	_text_input</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token plain">text_changed</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token function" style="color:#57b3ff">connect</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token plain">_on_text_input_changed</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7085">func</span><span class="token plain"> </span><span class="token function-definition" style="color:#66e6ff">get_data</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">-&gt;</span><span class="token plain"> </span><span class="token type" style="color:#42ffc2">Dictionary</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token keyword" style="color:#ff7085">var</span><span class="token plain"> dict </span><span class="token operator" style="color:#abc9ff">:=</span><span class="token plain"> </span><span class="token punctuation" style="color:#abc9ff">{</span><span class="token punctuation" style="color:#abc9ff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token plain">name</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token function" style="color:#57b3ff">to_snake_case</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#abc9ff">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Required node data</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token string" style="color:#ffeda1">&quot;node_type&quot;</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> node_type</span><span class="token punctuation" style="color:#abc9ff">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token string" style="color:#ffeda1">&quot;node_index&quot;</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> node_index</span><span class="token punctuation" style="color:#abc9ff">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token string" style="color:#ffeda1">&quot;offset&quot;</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> position_offset</span><span class="token punctuation" style="color:#abc9ff">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token string" style="color:#ffeda1">&quot;size&quot;</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> size</span><span class="token punctuation" style="color:#abc9ff">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Get the node output connections</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token string" style="color:#ffeda1">&quot;to_node&quot;</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> </span><span class="token function" style="color:#57b3ff">get_output_connections</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token punctuation" style="color:#abc9ff">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Custom node data</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">		</span><span class="token string" style="color:#ffeda1">&quot;print_text&quot;</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> _print_text</span><span class="token punctuation" style="color:#abc9ff">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token punctuation" style="color:#abc9ff">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token keyword" style="color:#ff7085">return</span><span class="token plain"> dict</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7085">func</span><span class="token plain"> </span><span class="token function-definition" style="color:#66e6ff">set_data</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token plain">dict</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> </span><span class="token type" style="color:#42ffc2">Dictionary</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">-&gt;</span><span class="token plain"> </span><span class="token minus_type" style="color:#42ffc2">void</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Load required node data</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	node_type </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;node_type&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	node_index </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;node_index&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	position_offset </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;offset&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	to_node </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;to_node&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	size </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;size&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Set print text in the input field</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	_text_input</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token plain">text </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;print_text&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	_print_text </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> dict</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;print_text&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7085">func</span><span class="token plain"> </span><span class="token function-definition" style="color:#66e6ff">_on_text_input_changed</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">-&gt;</span><span class="token plain"> </span><span class="token minus_type" style="color:#42ffc2">void</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	_print_text </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> _text_input</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token plain">text</span></span><br></span></code></pre></div></div>
<p>As you can see, in the <code>get_data()</code> method we are returning a dictionary with the required node data and also our custom property <code>print_text</code>, which contains the text to print when the event is processed.</p>
<p>In the <code>set_data</code> method, we are loading the required node data from the dictionary and also setting the <code>print_text</code> property from the dictionary value.</p>
<p>In this way, the dialogue system can <strong>save and load the custom event node data</strong> correctly.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>In this example, we are using a <a href="https://docs.godotengine.org/en/stable/classes/class_textedit.html" target="_blank" rel="noopener noreferrer" class="">TextEdit</a> component to enter the text to print, and we are connecting to its <code>text_changed</code> signal to update the <code>_print_text</code> property when the user changes the text.</p><p>Depending on the components that you add to your custom event node, you may need to implement <strong>additional logic</strong> to handle user interactions or updates to the node properties.</p></div></div>
<p>To understand more about how to make your own nodes, you can check the built-in event nodes in the <code>event_nodes</code> folder (<code>res://addons/sprouty_dialogs/event_nodes/</code>).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-the-event-node-processing">Handling the event node processing<a href="#handling-the-event-node-processing" class="hash-link" aria-label="Direct link to Handling the event node processing" title="Direct link to Handling the event node processing" translate="no">​</a></h3>
<p>To process your new event nodes, you need to create a custom event interpreter that extends from the <a class="" href="/SproutyDialogsDocs/docs/class-reference/utils/event-interpreter">SproutyDialogsEventInterpreter</a> class. This new interpreter will be responsible for <strong>processing your custom event nodes</strong> during the dialogue flow.</p>
<p>The event interpreter have a dictionary called <code>node_processors</code>, which maps the <strong>node names to their corresponding process methods</strong>. To handle your custom event node, you need to <strong>add an entry</strong> to this dictionary that maps the node name to a method that will process the node data.</p>
<p>Here&#x27;s an example implementation of a custom event interpreter that can process the <code>Custom Node</code> event node:</p>
<div class="language-gdscript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#cccccc;--prism-background-color:#1c1c1c"><div class="codeBlockTitle_OeMC">custom_event_interpreter.gd</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gdscript codeBlock_bY9V thin-scrollbar" style="color:#cccccc;background-color:#1c1c1c"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#ff7085">extends</span><span class="token plain"> </span><span class="token type" style="color:#42ffc2">SproutyDialogsEventInterpreter</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7085">func</span><span class="token plain"> </span><span class="token function-definition" style="color:#66e6ff">_init</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Add the process method to the processors with the node name</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	node_processors</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token string" style="color:#ffeda1">&quot;custom_node&quot;</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">=</span><span class="token plain"> _process_custom_node</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#cccccc80;font-style:italic">## Process the node data to do something</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7085">func</span><span class="token plain"> </span><span class="token function-definition" style="color:#66e6ff">_process_custom_node</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token plain">node_data</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> </span><span class="token type" style="color:#42ffc2">Dictionary</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">-&gt;</span><span class="token plain"> </span><span class="token minus_type" style="color:#42ffc2">void</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Print a debug message</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token keyword" style="color:#ff7085">if</span><span class="token plain"> print_debug</span><span class="token punctuation" style="color:#abc9ff">:</span><span class="token plain"> </span><span class="token global-function" style="color:#a3a3f5">print</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token string" style="color:#ffeda1">&quot;[Sprouty Dialogs] Processing custom node...&quot;</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Print the text from the node data</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token global-function" style="color:#a3a3f5">print_rich</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token string" style="color:#ffeda1">&quot;[color=tomato][b]Custom Node Print:[/b][/color] &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#abc9ff">+</span><span class="token plain"> node_data</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token plain">print_text</span><span class="token punctuation" style="color:#abc9ff">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	</span><span class="token comment" style="color:#cccccc80;font-style:italic"># Call to continue to the next node</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#cccccc"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">	continue_to_node</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token function" style="color:#57b3ff">emit</span><span class="token punctuation" style="color:#abc9ff">(</span><span class="token plain">node_data</span><span class="token punctuation" style="color:#abc9ff">.</span><span class="token plain">to_node</span><span class="token punctuation" style="color:#abc9ff">[</span><span class="token number" style="color:#a1ffe0">0</span><span class="token punctuation" style="color:#abc9ff">]</span><span class="token punctuation" style="color:#abc9ff">)</span></span><br></span></code></pre></div></div>
<p>In this example, the <code>_process_custom_node()</code> method is defined to handle the processing of the <code>Custom Node</code> event node. It takes the <code>print_text</code> property from the node data dictionary and prints it to the console.</p>
<p>Finally, it calls the <code>continue_to_node</code> signal to move to the next node in the dialogue flow. This line is necessary to <strong>ensure that the dialogue continues</strong> after processing the event node.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>You can access to the dialogue resources from the <a class="" href="/SproutyDialogsDocs/docs/class-reference/nodes/dialog-player">DialogPlayer</a> using <code>get_parent()</code>, if you need to access any data from the dialogue (such as the character data) while processing your custom event nodes.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-custom-event-nodes">Using custom event nodes<a href="#using-custom-event-nodes" class="hash-link" aria-label="Direct link to Using custom event nodes" title="Direct link to Using custom event nodes" translate="no">​</a></h2>
<hr>
<p>Having your custom node and custom event interpreter ready, you need to set up some settings to use them in your dialogues. For that, you need to go to the <a class="" href="/SproutyDialogsDocs/docs/settings#general-settings">general settings</a> in the Sprouty Dialogs settings tab.</p>
<p><img decoding="async" loading="lazy" alt="Custom Settings" src="/SproutyDialogsDocs/assets/images/custom_settings-af388470308e2e18932badd77555aedc.png" width="1750" height="860" class="img_ev3q"></p>
<p>Here, you need to do the following:</p>
<ol>
<li class=""><strong>Enable the use of custom event nodes</strong> by checking <code>Use custom event nodes</code>.</li>
<li class="">Set the <code>Custom event nodes folder</code> property with the <strong>path to the folder where your custom event node scenes are located</strong>.</li>
<li class="">Set your custom event interpreter script in the <code>Custom event interpreter</code> setting. In this way, the <strong>dialog players will use your custom event interpreter</strong> to process the event nodes during the dialogue flow.</li>
</ol>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>You should save your custom event nodes and custom event interpreter <strong>outside the plugin folder</strong>, to avoid losing your custom nodes when updating the plugin.</p></div></div>
<p>Now, you can create dialogues using your custom event nodes in the <a class="" href="/SproutyDialogsDocs/docs/getting-started/meet-the-editor#dialogue-editor">Dialogue Editor</a>. You will see your custom event node available in the event nodes list to add it to the graph.</p>
<p><img decoding="async" loading="lazy" alt="Custom Node in List" src="/SproutyDialogsDocs/assets/images/custom_node_in_list-f587934a251bd34499fba431b1274ea8.png" width="1750" height="860" class="img_ev3q"></p>
<p>And you can use it like any other event node in the graph editor.</p>
<p><img decoding="async" loading="lazy" alt="Custom Node in Dialogue" src="/SproutyDialogsDocs/assets/images/custom_node_example-935b0b2782657fc4086465c90fc05f78.png" width="1750" height="860" class="img_ev3q"></p>
<p>When the dialogue is played, the dialog player will use your custom event interpreter to process the event nodes, including your custom event nodes.</p>
<p>Here&#x27;s an example of the output when the dialogue with the custom event node is played:</p>
<p><img decoding="async" loading="lazy" alt="Custom Node on Play" src="/SproutyDialogsDocs/assets/images/custom_node_play-1d32dccda4f2a0e477dbc36a85eec162.png" width="1750" height="1094" class="img_ev3q"></p>
<p>As you can see, the custom event node is processed correctly, and the <strong>text entered in the node is printed to the console</strong> as we expect.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>You can access to this custom event node and custom event interpreter example, in the <code>custom_event_nodes</code> folder inside the event nodes folder (<code>res://addons/sprouty_dialogs/event_nodes/custom_event_nodes/</code>).</p><p>So you can use it as a reference or starting point to create your own custom event nodes and interpreter.</p></div></div>
<p>Congratulations! You have successfully created your own custom event node.</p>
<p>You can now create more complex event nodes and interpreters to extend the functionality of your dialogues even further.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/SproutyLabs/SproutyDialogsDocs/tree/main/docs/dialogues/custom-event-nodes.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/SproutyDialogsDocs/docs/dialogues/event-nodes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Event Nodes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/SproutyDialogsDocs/docs/category/characters--portraits"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Characters &amp; Portraits</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-event-nodes-work" class="table-of-contents__link toc-highlight">How event nodes work?</a></li><li><a href="#creating-a-custom-event-node" class="table-of-contents__link toc-highlight">Creating a custom event node</a><ul><li><a href="#handling-the-event-node-logic" class="table-of-contents__link toc-highlight">Handling the event node logic</a></li><li><a href="#handling-the-event-node-processing" class="table-of-contents__link toc-highlight">Handling the event node processing</a></li></ul></li><li><a href="#using-custom-event-nodes" class="table-of-contents__link toc-highlight">Using custom event nodes</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SproutyDialogsDocs/docs/getting-started/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/SproutyDialogsDocs/docs/category/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/SproutyDialogsDocs/docs/category/class-reference">Class Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contribute</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SproutyLabs/SproutyDialogs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SproutyLabs/SproutyDialogs/issues/new?template=bug_report.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a Bug<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/SproutyDialogsDocs/blog">Blog</a></li><li class="footer__item"><a href="https://ko-fi.com/kazymila" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support ♡<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 SproutyLabs. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>